<!DOCTYPE html>
<html>
<head>
    <!-- Meta tag to refresh the page every 30 seconds -->
    <meta http-equiv="refresh" content="30">
</head>
<body>
    <!-- Heading for the light sensor data -->
    <h2>Light Sensor Data</h2>
    <!-- Table for displaying the light sensor data -->
    <table>
        <!-- Table headers -->
        <tr>
            <th>Timestamp</th>
            <th>Value</th>
        </tr>
        <!-- A loop that iterates over the light sensor data passed to the template from the Flask application -->
        {% for datum in data %}
            <!-- Each iteration of the loop creates a new row in the table -->
            <tr>
                <!-- The timestamp of the current data point is displayed in the first cell of the row -->
                <td>{{ datum.timestamp }}</td>
                <!-- The value of the current data point is displayed in the second cell of the row -->
                <td>{{ datum.value }}</td>
            </tr>
        {% endfor %}
    </table>

    <!-- Heading for the light threshold form -->
    <h2>Set Light Threshold</h2>
    <!-- Form for setting the light threshold -->
    <form method="POST">
        <!-- Number input field for the light threshold. 
        The current threshold value is displayed by default. 
        The minimum and maximum values are set to 0 and 4095, respectively -->
        <input type="number" name="threshold" value="{{ threshold.value }}" min="0" max="4095">
        <!-- Submit button for the form -->
        <input type="submit" value="Set">
    </form>
</body>
</html>
